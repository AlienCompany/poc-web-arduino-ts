<!DOCTYPE html>
<html>

<head>
  <title>Exemple</title>
  <meta charset="utf-8" />
  <script src="/socket.io/socket.io.js"></script>
</head>

<body>
<input type="text" id="input"/>
<button id="btnEnvoyer1"> btn1 </button>
<button id="btnEnvoyer2"> btn2 </button>
<button id="btnEnvoyer3"> btn3 </button>
  <div id="text">
  </div>

  <script>
    var text = document.getElementById('text');
    var input = document.getElementById('input');
    var btn1 = document.getElementById('btnEnvoyer1');
    var btn2 = document.getElementById('btnEnvoyer2');
    var btn3 = document.getElementById('btnEnvoyer3');

    const userInfo = {
      nom: "Fernandez",
      prenom: "Coralie",
      autrePrenom: ["Mon amour", "ChÃ©rie"],
      age: 18
    };

    var socket = io.connect('http://localhost:8888');

    socket.on('connect', () => {
      text.innerText += ' [connect] ';
      console.log("connect");
    });
    socket.on('disconnect', () => {
      text.innerText += ' [disconnect] ';
      console.log("disconnect");
    });
    socket.on('customCliEvent1',(message) => {
      text.innerText += message;
    });
    socket.on('customCliEvent2',(data) => {
      console.log(data);
    });


    btn1.onclick = () => {
      console.log("emit customSrvEvent1");
      socket.emit('customSrvEvent1', 'Click sur le bouton 1');
    };
    btn2.onclick = () => {
      console.log("emit customSrvEvent2");
      socket.emit('customSrvEvent2', {btn: 2, input: input.value});
    };
    btn3.onclick = () => {
      console.log("emit customSrvEvent3", userInfo);
      socket.emit('customSrvEvent3', userInfo);
    }
	
  </script>

</body>

</html>